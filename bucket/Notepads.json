{
    "version": "1.5.6.0",
    "description": "A modern, lightweight text editor with a minimalist design.",
    "homepage": "https://www.notepadsapp.com/",
    "license": "MIT",
    "depends": "gsudo",
    "url": "https://github.com/0x7c13/Notepads/releases/download/v1.5.6.0/Notepads_1.5.6.0_x86_x64_arm64.msixbundle#/Notepads.msixbundle",
    "hash": "64e48c47ee39aa63616946e4d9f3d287d96b4650fc119eb8cbc73a1d58b36540",
    "installer": {
        "script": [
            "Write-Host \"`nAdmin privileges are required for installation ...\" -ForegroundColor Yellow",
            "Write-Host \"Please approve permission request if UAC prompt pops up.\" -ForegroundColor Yellow",
            "Start-Sleep -Seconds 1",
            "gsudo Add-AppxProvisionedPackage -Online -PackagePath \"$dir\\Notepads.msixbundle\" -SkipLicense | Out-Null"
        ]
    },
    "post_install": [
        "while ($null -eq $package_name) {",
        "    Start-Sleep -Milliseconds 250",
        "    $package_name = (Get-AppxPackage -Name '*JackieLiu*Notepads*').PackageFamilyName",
        "}",
        "$package_dir = \"$env:LOCALAPPDATA\\Packages\\$package_name\"",
        "while (-not (Test-Path \"$package_dir\\Settings\\settings.dat\")) { Start-Sleep -Milliseconds 250 }",
        "Copy-Item -Path \"$persist_dir\\Settings\" -Destination \"$package_dir\" -Force -Recurse",
        "Copy-Item -Path \"$persist_dir\\LocalState\" -Destination \"$package_dir\" -Force -Recurse"
    ],
    "persist": [
        "Settings",
        "LocalState"
    ],
    "uninstaller": {
        "script": [
            "$ProgressPreference = \"SilentlyContinue\"",
            "Stop-Process -Name Notepads -ErrorAction Ignore",
            "Start-Sleep -Milliseconds 250",
            "$package = Get-AppxPackage -Name '*JackieLiu*Notepads*'",
            "$package_dir = \"$env:LOCALAPPDATA\\Packages\\$($package.PackageFamilyName)\"",
            "Remove-Item -Path \"$persist_dir\\Settings\" -Force -Recurse -ErrorAction Ignore",
            "Remove-Item -Path \"$persist_dir\\LocalState\" -Force -Recurse -ErrorAction Ignore",
            "Copy-Item -Path \"$package_dir\\Settings\" -Destination \"$persist_dir\" -Force -Recurse",
            "Copy-Item -Path \"$package_dir\\LocalState\" -Destination \"$persist_dir\" -Force -Recurse",
            "Remove-AppxPackage $package"
        ]
    },
    "checkver": {
        "github": "https://github.com/0x7c13/Notepads"
    },
    "autoupdate": {
        "url": "https://github.com/0x7c13/Notepads/releases/download/v$version/Notepads_$version_x86_x64_arm64.msixbundle#/Notepads.msixbundle"
    }
}
